#! /usr/bin/env nix-shell
#! nix-shell -i bash -p bash

# wiki.hyprland.org/IPC

handle() {
    case $1 in
        monitoradded*) ignis reload;;
    esac
}

# This script assumes both socat and hyprland are installed and used
# Running this without those will result in errors!
socat -U - UNIX-CONNECT:$XDG_RUNTIME_DIR/hypr/$HYPRLAND_INSTANCE_SIGNATURE/.socket2.sock | while read -r line; do handle "$line"; done
